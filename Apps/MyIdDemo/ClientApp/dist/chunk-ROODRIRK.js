import{b as P}from"./chunk-GEKVGMPH.js";import{a as X}from"./chunk-RPLYZMPJ.js";import{a as Z,b as oe}from"./chunk-O6EQULGV.js";import{a as y}from"./chunk-V2TZMPJT.js";import{a as $}from"./chunk-HZ2EKXOK.js";import{b as ee,c as te}from"./chunk-CD5ONLAB.js";import{a as H}from"./chunk-E6PBY26I.js";import{a as U,b as J}from"./chunk-XVK472TK.js";import{a as K,b as Q}from"./chunk-J7V4XGIJ.js";import{a as V}from"./chunk-YIT3BSWB.js";import{a as W}from"./chunk-UQNNMBE6.js";import"./chunk-5M6LSHM4.js";import"./chunk-QHIVMJYN.js";import{a as Y}from"./chunk-WKO4SONN.js";import{a as I,b as u,d as z,e as k,f as j,h as A,i as B,m as G,n as q}from"./chunk-VJXHLJA5.js";import"./chunk-YCVKD4PR.js";import"./chunk-CWY6TGXW.js";import"./chunk-CU2LV2W6.js";import"./chunk-ZUYYKIIZ.js";import"./chunk-4XZ6Q3KQ.js";import"./chunk-XWDBGFUP.js";import"./chunk-VVB4K6R7.js";import{m as D}from"./chunk-Y5WPSY3K.js";import{Aa as b,Da as w,Eb as r,Gb as v,Ia as T,Jb as c,Ob as i,Pb as s,Qb as m,Rb as x,Sb as F,Ub as _,Vb as N,ca as f,db as o,dc as R,ec as d,la as M,ma as S,mc as E,sb as C,tc as L,xb as l,za as O}from"./chunk-CCUFKVTZ.js";import"./chunk-6MDQTQU3.js";function se(e,p){e&1&&(i(0,"label",4),d(1,"Email *"),s()),e&2&&r("for","email")}function ae(e,p){e&1&&(i(0,"label",4),d(1,"Username"),s()),e&2&&r("for","username")}function me(e,p){e&1&&(i(0,"label",4),d(1,"Phone Number"),s()),e&2&&r("for","phoneNumber")}function le(e,p){e&1&&(i(0,"label",4),d(1,"Password"),s()),e&2&&r("for","password")}function ce(e,p){e&1&&(i(0,"label",4),d(1,"Confirm Password"),s()),e&2&&r("for","confirmPassword")}function de(e,p){e&1&&(i(0,"span",13),d(1,"Passwords do not match"),s())}function pe(e,p){e&1&&x(0,15),e&2&&r("ngTemplateOutlet",p)}var re=(()=>{class e{_fb=f(G);_removeNulls=f(X);_phoneFormatter=f(oe);register=O();showLabels=b(!0);color=b("primary");socialTemplate=b(void 0);set passwordValidators(n){setTimeout(()=>{n?.length?this._form.controls.password.setValidators([u.required,...n]):this._form.controls.password.setValidators([u.required])},500)}showPassword=w(!1);showConfirmPassword=w(!1);_form=this._fb.nonNullable.group({firstName:this._fb.control(""),lastName:this._fb.control(""),username:this._fb.control(""),email:this._fb.nonNullable.control("",[u.required,u.email]),phoneNumber:this._fb.control("",[Z.validator()]),password:this._fb.nonNullable.control("",[u.required,...y.validationArray(6)]),confirmPassword:this._fb.nonNullable.control("",[u.required])},{validators:y.matchValidator()});constructor(){this._form.controls.phoneNumber.valueChanges.subscribe(n=>{if(!n)return;let a=this._phoneFormatter.formatPhoneInternational(n);n!=a&&this._form.controls.phoneNumber.setValue(a)})}submit(){if(!this._form.valid)return;let n=this._removeNulls.remove(this._form.getRawValue());this.register.emit(n)}onPasswordToggle=n=>this.showPassword.set(!n);onConfirmPasswordToggle=n=>this.showConfirmPassword.set(!n);static \u0275fac=function(a){return new(a||e)};static \u0275cmp=C({type:e,selectors:[["sb-reg-customer-form"]],inputs:{showLabels:[1,"showLabels"],color:[1,"color"],socialTemplate:[1,"socialTemplate"],passwordValidators:"passwordValidators"},outputs:{register:"register"},decls:39,vars:23,consts:[[1,"sb-add-mntc-member-form",3,"ngSubmit","formGroup","sbFormControlFirstError"],[1,"form-section"],[1,"form-row"],[1,"form-group"],[3,"for"],["id","email","sbInputStyle","","formControlName","email","placeholder","Email","type","email"],[3,"control"],["id","username","sbInputStyle","","formControlName","username","placeholder","Username"],["id","phoneNumber","sbInputStyle","","formControlName","phoneNumber","placeholder","Phone Number"],["sbInputWithBtn","",1,"password-input-container",3,"color"],["formControlName","password","placeholder","Enter your password",3,"id","type"],["toggledLabel","Hide password","untoggledLabel","Show password",3,"toggled","color"],["formControlName","confirmPassword","placeholder","Confirm your password",3,"id","type"],[1,"error"],[1,"actions"],[3,"ngTemplateOutlet"],["type","submit",3,"disabled"]],template:function(a,t){if(a&1&&(i(0,"form",0),_("ngSubmit",function(){return t.submit()}),i(1,"div",1)(2,"div",2)(3,"div",3),l(4,se,2,1,"label",4),m(5,"input",5)(6,"sb-first-error",6),s(),i(7,"div",3),l(8,ae,2,1,"label",4),m(9,"input",7)(10,"sb-first-error",6),s()()(),i(11,"div",1)(12,"div",2)(13,"div",3),l(14,me,2,1,"label",4),m(15,"input",8)(16,"sb-first-error",6),s()()(),i(17,"div",1)(18,"div",2)(19,"div",3),l(20,le,2,1,"label",4),i(21,"div",9),m(22,"input",10),i(23,"sb-toggle-icon-button",11),_("toggled",function(h){return t.onPasswordToggle(h)}),s()(),m(24,"sb-first-error",6),s(),i(25,"div",3),l(26,ce,2,1,"label",4),i(27,"div",9),m(28,"input",12),i(29,"sb-toggle-icon-button",11),_("toggled",function(h){return t.onConfirmPasswordToggle(h)}),s()(),m(30,"sb-first-error",6),l(31,de,2,0,"span",13),s()()(),i(32,"div",1)(33,"div",14),l(34,pe,1,1,"ng-container",15),s()(),i(35,"div",1)(36,"div",14)(37,"sb-button",16),d(38,"Register"),s()()()()),a&2){let g;r("formGroup",t._form)("sbFormControlFirstError",t._form),o(4),c(t.showLabels()?4:-1),o(2),r("control",t._form.controls.email),o(2),c(t.showLabels()?8:-1),o(2),r("control",t._form.controls.username),o(4),c(t.showLabels()?14:-1),o(2),r("control",t._form.controls.phoneNumber),o(4),c(t.showLabels()?20:-1),o(),r("color",t.color()),o(),r("id","password")("type",t.showPassword()?"text":"password"),o(),r("color",t.color()),o(),r("control",t._form.controls.password),o(2),c(t.showLabels()?26:-1),o(),r("color",t.color()),o(),r("id","confirmPassword")("type",t.showConfirmPassword()?"text":"password"),o(),r("color",t.color()),o(),r("control",t._form.controls.confirmPassword),o(),c(t._form.hasError("passwordMismatch")&&t._form.controls.confirmPassword.touched?31:-1),o(3),c((g=t.socialTemplate())?34:-1,g),o(3),r("disabled",!t._form.valid)}},dependencies:[q,j,I,z,k,A,B,Q,K,W,H,D,U,J],styles:["[_nghost-%COMP%]{display:block;max-width:800px;width:100%;border-radius:1rem}.description[_ngcontent-%COMP%]{text-align:center;color:var(--mat-sys-on-surface-variant);font-size:.95rem;margin-bottom:1rem;line-height:1.4}.form-section[_ngcontent-%COMP%]{border-radius:.75rem;padding:1.5rem;margin:.5rem}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.25rem;font-size:1.1rem;font-weight:600;color:var(--mat-sys-on-surface-variant)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group.checkbox-group[_ngcontent-%COMP%]{align-self:end;padding-bottom:.25rem}label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}sb-button[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.error[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-size:.95rem;margin-top:-.25rem}.collapsible-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:.5rem 0;transition:background-color .2s ease;border-radius:.25rem}.collapsible-header[_ngcontent-%COMP%]:hover{background-color:var(--mat-sys-surface-variant);padding:.5rem 1rem;margin:0 -1rem}.collapsible-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;pointer-events:none}.toggle-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:transform .3s ease;color:var(--mat-sys-on-surface-variant)}.toggle-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.toggle-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.collapsible-content[_ngcontent-%COMP%]{margin-top:1rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;width:100%}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1}.form-section[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]{max-width:100%}}"],changeDetection:0})}return e})();function ge(e,p){e&1&&m(0,"asl-google-signin-button",7)}function fe(e,p){if(e&1&&l(0,ge,1,0,"asl-google-signin-button",7),e&2){let n=N();c(n._showSocialLinks()?0:-1)}}var ze=(()=>{class e{_state=f(P);_router=f(V);_socialAuth=f(ee);_platformId=f(T);_successMsg=this._state.successMsg;_errorMsg=this._state.errorMsg;_loading=this._state.loading;_showSocialLinks=this._state.showSocialLinks;ngOnInit(){this._socialAuth.authState.subscribe(n=>{this._state.registerGoogle(n)})}register=n=>this._state.register(n);goToLogin=()=>this._router.navigateToLogin();static \u0275fac=function(a){return new(a||e)};static \u0275cmp=C({type:e,selectors:[["sb-register"]],features:[E([P])],decls:10,vars:10,consts:[["socialTemplate",""],[1,"container"],[1,"form-container"],[1,"header"],[1,"form",3,"register","socialTemplate"],[3,"title","message"],[3,"errorMsg","toastMsg","isLoading"],["type","icon","size","large"]],template:function(a,t){if(a&1){let g=F();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),d(4,"Register"),s()(),i(5,"sb-reg-customer-form",4),_("register",function(ne){return M(g),S(t.register(ne))}),s()(),m(6,"sb-confirmed-card",5),s(),m(7,"sb-notifications-modal-mat",6),l(8,fe,1,1,"ng-template",null,0,L)}if(a&2){let g=R(9);o(),v("hide",t._successMsg()),o(4),r("socialTemplate",g),o(),v("show",t._successMsg()),r("title","Registered!")("message",t._successMsg()),o(),r("errorMsg",t._errorMsg())("toastMsg",t._successMsg())("isLoading",t._loading())}},dependencies:[Y,re,te,$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;width:calc(100% - 2rem);min-height:calc(100% - 2rem);align-items:center;justify-content:center;padding:1rem}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.container[_ngcontent-%COMP%]{width:98%;max-width:800px;display:flex;align-items:center;flex-direction:column;justify-content:center}.form-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.header[_ngcontent-%COMP%]{margin-bottom:3rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:.5rem;font-weight:600}.header[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center;color:var(--mat-sys-on-surface-variant);font-size:.95rem;line-height:1.4}.form[_ngcontent-%COMP%]{width:100%;transition:opacity .5s .25s cubic-bezier(.4,0,.2,1),transform .5s .25s cubic-bezier(.4,0,.2,1)}.form-container.hide[_ngcontent-%COMP%]{opacity:0;max-height:0;overflow:hidden}sb-confirmed-card[_ngcontent-%COMP%]{width:100%;max-height:1px;height:0;overflow:hidden;box-shadow:0 4px 24px #3c48581f;max-width:350px;transform:translateY(40px) scale(.98);opacity:0;pointer-events:none;transition:opacity .5s .25s cubic-bezier(.4,0,.2,1),transform .5s .25s cubic-bezier(.4,0,.2,1);transition:.5s .25s cubic-bezier(.4,0,.2,1)}sb-confirmed-card.show[_ngcontent-%COMP%], sb-button.show[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:auto;margin:2rem auto 1.5rem;height:auto;max-height:unset;overflow:hidden}"],changeDetection:0})}return e})();export{ze as RegisterCustomerComponent};
