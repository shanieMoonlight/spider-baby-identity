import{a as pe}from"./chunk-LJ2X4TIF.js";import{a as me}from"./chunk-GRQJUET4.js";import{a as V}from"./chunk-VLIVY6BI.js";import{a as de}from"./chunk-J2DBJL2B.js";import{a as ce}from"./chunk-WKO4SONN.js";import{k as le,m as se}from"./chunk-Y5WPSY3K.js";import{Aa as a,Cb as K,Da as v,Db as Q,Eb as b,Fb as X,G as N,Gb as S,Hb as k,Hc as T,Ic as ae,Jb as C,Jc as re,Kb as ee,Mb as I,Nb as D,Ob as l,Pb as s,Qb as w,Rb as F,Sb as h,Ub as f,Vb as c,Y,ba as q,ca as L,db as d,ec as y,f as Z,fc as te,gc as O,ic as H,jc as U,kc as W,la as p,ma as _,na as R,nb as P,oc as ne,ra as G,rc as oe,sb as u,sc as ie,vb as J,xb as g,za as x}from"./chunk-CCUFKVTZ.js";import{a as j,e as z}from"./chunk-6MDQTQU3.js";function Te(t,i){t&1&&(R(),l(0,"svg",1),w(1,"path",2),s())}function ke(t,i){t&1&&(R(),l(0,"svg",1),w(1,"path",3),s())}var _e=(()=>{class t{disabled=a(!1);color=a("primary");circle=a(!1);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-button-icon-add"]],inputs:{disabled:[1,"disabled"],color:[1,"color"],circle:[1,"circle"]},decls:3,vars:4,consts:[[3,"type","color","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor"],["d","M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"],["d","M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"]],template:function(n,o){n&1&&(l(0,"sb-icon-button",0),g(1,Te,2,0,":svg:svg",1)(2,ke,2,0,":svg:svg",1),s()),n&2&&(b("type","button")("color",o.color())("disabled",o.disabled()),d(),C(o.circle()?1:2))},dependencies:[de],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0})}return t})();function Oe(t,i){if(t&1){let e=h();l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),y(4),s(),l(5,"sb-button-icon-close",3),f("click",function(){p(e);let o=c();return _(o.dismissModal())}),s()(),l(6,"div",4),y(7),s(),l(8,"div",5)(9,"sb-text-button",6),f("click",function(){p(e);let o=c();return _(o.cancelClick())}),y(10," CANCEL "),s(),l(11,"sb-text-button",6),f("click",function(){p(e);let o=c();return _(o.confirmClick())}),y(12," CONFIRM "),s()()()()}if(t&2){let e=c();d(4),te(e.title()),d(3),O(" ",e.description()," ")}}var ue=(()=>{class t{openModal=P(!1);title=a("Confimation Required");description=a.required();confirm=x();dismissModal=()=>this.openModal.update(()=>!1);confirmClick(){this.openModal.update(()=>!1),this.confirm.emit(!0)}cancelClick(){this.openModal.update(()=>!1),this.confirm.emit(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-confirm-modal"]],inputs:{openModal:[1,"openModal"],title:[1,"title"],description:[1,"description"]},outputs:{openModal:"openModalChange",confirm:"confirm"},decls:1,vars:1,consts:[[1,"confirm-modal-backdrop"],[1,"confirm-modal"],[1,"confirm-modal-header"],["aria-label","Close confirm modal",3,"click"],[1,"confirm-modal-body"],[1,"actions"],[3,"click"]],template:function(n,o){n&1&&g(0,Oe,13,2,"div",0),n&2&&C(o.openModal()?0:-1)},dependencies:[V,me],styles:["[_nghost-%COMP%]{display:block;--border-color: rgba(var(--mat-sys-primary-rgb, 0, 0, 0), .15)}.confirm-modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:999;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.confirm-modal[_ngcontent-%COMP%]{width:90%;max-width:350px;background-color:var(--mat-sys-surface);border-radius:8px;overflow:hidden;box-shadow:0 4px 24px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.confirm-modal-header[_ngcontent-%COMP%]{background-color:var(--mat-sys-primary-container);background-color:var(--mat-sys-surface-container);color:var(--mat-sys-on-primary-container);color:var(--mat-sys-on-surface-container);padding:16px;display:flex;align-items:center;justify-content:space-between}.confirm-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;flex-grow:1;margin:0 0 0 8px}.confirm-modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--mat-sys-on-confirm)}.confirm-modal-body[_ngcontent-%COMP%]{padding:24px 0;color:var(--mat-sys-on-surface);font-size:16px;line-height:1.5;border-bottom:1px solid var(--border-color);margin:0 24px}.confirm-modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:center;color:var(--mat-sys-on-surface-variant);font-size:.95rem;margin-bottom:1rem;line-height:1.4;margin:1rem 0 2rem}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:.5rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}"],changeDetection:0})}return t})();var be=(()=>{class t{_appRef;_injector;constructor(e,n){this._appRef=e,this._injector=n}open(e,n){return new Promise(o=>{this.createModal(e,n,o)})}open$(e,n){let o=new Z;return this.createModal(e,n,r=>o.next(r)),o.pipe(N(1))}createModal(e,n,o){let r=re(ue,{environmentInjector:this._appRef.injector,elementInjector:this._injector});r.setInput("title",e),r.setInput("description",n),r.setInput("openModal",!0);let m=r.instance.confirm.subscribe(E=>{o(E),m.unsubscribe(),this._appRef.detachView(r.hostView),r.destroy()});this._appRef.attachView(r.hostView),document.body.appendChild(r.hostView.rootNodes[0])}static \u0275fac=function(n){return new(n||t)(q(K),q(G))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A=class{item;action="action";rowIdx=-1;constructor(i,e){this.item=i,this.action=e.name}setRowIdx(i){return this.rowIdx=i,this}};function Pe(t,i){if(t&1){let e=h();l(0,"div",1),f("click",function(o){p(e);let r=c(2);return _(r.actionClick(o))})("keydown.enter",function(o){p(e);let r=c(2);return _(r.actionClick(o))})("keydown.space",function(o){p(e);let r=c(2);return _(r.actionClick(o))}),F(1,2),s()}if(t&2){let e=i;d(),b("ngComponentOutlet",e.component)("ngComponentOutletInputs",e.inputs)}}function Se(t,i){if(t&1&&g(0,Pe,2,2,"div",0),t&2){let e,n=c();C((e=n.column().actionTableCell)?0:-1,e)}}function Ie(t,i){if(t&1&&y(0),t&2){let e=c();O(" ",e.value()," ")}}var Ce=(()=>{class t{item=a.required();column=a.required();actionEvent=x({alias:"action"});value=T(()=>{let e=this.item(),n=this.column();return e[n.name]});filterDataType=T(()=>this.column().filterDataType);actionClick(e){e.stopPropagation();let n=this.item();n&&this.actionEvent.emit(new A(n,this.column()))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-data-table-cell"]],inputs:{item:[1,"item"],column:[1,"column"]},outputs:{actionEvent:"action"},decls:2,vars:1,consts:[["tabindex","0","role","button"],["tabindex","0","role","button",3,"click","keydown.enter","keydown.space"],[3,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(n,o){if(n&1&&g(0,Se,1,1)(1,Ie,1,1),n&2){let r;C((r=o.filterDataType())==="action"?0:1)}},dependencies:[le],styles:[".sb-data-table-cell[_ngcontent-%COMP%]{padding:.5rem 1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0})}return t})();var fe=(()=>{class t{static clone=e=>`${e??""}`;static isNullOrWhitespace=e=>!e||e.match(/^ *$/)!==null;static isString=e=>typeof e=="string"||e instanceof String;static removeWhitespace=e=>e.replace(/\s+/g,"").trim();static dashedToTitleCase(e){return e?e.split(/(?=[A-Z-])/).join(" ").split(" ").map(o=>o.replace("-","")).filter(o=>!!o).map(o=>o[0].toUpperCase()+o.slice(1)).join(" "):e??""}static toTitleCase(e){if(!e)return e??"";let n=/(?=[A-Z])/,o=e.split(n).join(" ");return o.length?o[0].toUpperCase()+o.slice(1):""}static toTitleCases(e,n){if(!e)return e??"";let o=n?/(?=[A-Z-])/:/(?=[A-Z])/;return e.split(o).join(" ").split(" ").map(m=>n?m.replace("-",""):m).filter(m=>!!m).map(m=>m[0].toUpperCase()+m.slice(1)).join(" ")}static truncate(e,n=25,o=!0){if(!e)return e??"";let r=o?"\u2026":"";return e.length>n?e.substring(0,n)+r:e}}return t})();var ge=(()=>{class t{transform(e){return e?typeof e!="string"?e:fe.toTitleCase(e):""}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=J({name:"camelToTitle",type:t,pure:!0})}return t})();var he=(()=>{class t{column=a.required();color=a("primary");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-table-header-cell"]],hostVars:2,hostBindings:function(n,o){n&2&&k(o.color())},inputs:{column:[1,"column"],color:[1,"color"]},decls:4,vars:3,consts:[[1,"column-header"],["mat-sort-header","",1,"column-header-title"]],template:function(n,o){n&1&&(l(0,"div",0)(1,"div",1),y(2),oe(3,"camelToTitle"),s()()),n&2&&(d(2),O(" ",ie(3,1,o.column().name)," "))},dependencies:[ge],styles:["[_nghost-%COMP%]{display:block}.column-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;overflow:hidden}.column-header-title[_ngcontent-%COMP%]{margin-top:.5rem;padding:.15rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0})}return t})();var ye=(()=>{class t{value=a(0);mode=a("indeterminate");color=a("primary");_fillWidth=T(()=>this.mode()==="determinate"?this.value()+"%":"100%");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-progress-bar"]],hostVars:4,hostBindings:function(n,o){n&2&&(k(o.color()),S("indeterminate",o.mode()==="indeterminate"))},inputs:{value:[1,"value"],mode:[1,"mode"],color:[1,"color"]},decls:3,vars:2,consts:[[1,"sb-progress-bar-container"],[1,"sb-progress-bar-track"],[1,"sb-progress-bar-fill"]],template:function(n,o){n&1&&(l(0,"div",0)(1,"div",1),w(2,"div",2),s()()),n&2&&(d(2),X("width",o._fillWidth()))},styles:[".sb-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:4px;position:relative;overflow:hidden;--color-bg: var(--mat-sys-primary)}.sb-progress-bar-track[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--mat-sys-surface-variant, #e0e0e0);border-radius:2px;overflow:hidden}.sb-progress-bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s cubic-bezier(.4,0,.2,1);background:var(--color-bg, #3f51b5)}.indeterminate[_nghost-%COMP%]   .sb-progress-bar-fill[_ngcontent-%COMP%]{position:absolute;left:0;width:40%;animation:_ngcontent-%COMP%_sb-progress-bar-indeterminate 1.2s infinite linear}.primary[_nghost-%COMP%]   .sb-progress-bar-fill[_ngcontent-%COMP%]{--color-bg: var(--mat-sys-primary)}.secondary[_nghost-%COMP%]   .sb-progress-bar-fill[_ngcontent-%COMP%]{--color-bg: var(--mat-sys-secondary)}.tertiary[_nghost-%COMP%]   .sb-progress-bar-fill[_ngcontent-%COMP%]{--color-bg: var(--mat-sys-tertiary)}.error[_nghost-%COMP%]   .sb-progress-bar-fill[_ngcontent-%COMP%]{--color-bg: var(--mat-sys-error)}@keyframes _ngcontent-%COMP%_sb-progress-bar-indeterminate{0%{left:-40%;width:40%}60%{left:100%;width:60%}to{left:100%;width:60%}}"],changeDetection:0})}return t})();var xe=(t,i)=>i.name;function De(t,i){if(t&1&&w(0,"sb-progress-bar",1),t&2){let e=c();b("color",e.color())}}function Fe(t,i){if(t&1&&(l(0,"th"),w(1,"sb-table-header-cell",5),s()),t&2){let e=i.$implicit;d(),b("column",e)}}function Ve(t,i){if(t&1){let e=h();l(0,"td")(1,"sb-data-table-cell",8),f("action",function(o){p(e);let r=c().$index,m=c(2);return _(m.onActionClick(o,r))}),s()()}if(t&2){let e=i.$implicit,n=c().$implicit;d(),b("item",n)("column",e)}}function Ae(t,i){if(t&1){let e=h();l(0,"tr",7),f("click",function(){let o=p(e),r=o.$implicit,m=o.$index,E=c(2);return _(E.onRowClick(r,m))}),I(1,Ve,2,2,"td",null,xe),s()}if(t&2){let e=c(2);d(),D(e.columns())}}function Be(t,i){if(t&1&&I(0,Ae,3,0,"tr",6,ee),t&2){let e=c();D(e._data())}}function Ee(t,i){if(t&1&&(l(0,"tr")(1,"td",9),y(2,"No data available"),s()()),t&2){let e=c();d(),Q("colspan",e.columns().length)}}function je(t,i){if(t&1){let e=h();l(0,"sb-button-icon-add",10),f("click",function(){p(e);let o=c();return _(o.onAddItemClick())}),s()}if(t&2){let e=c();b("sbTooltip",e.addItemTooltip())("circle",!0)}}var we=(()=>{class t{columns=a.required();_data=v([]);set data(e){this._data.set(e??[])}rowClickable=a(!0);rowClickableFn=a(void 0);canAddItem=a(!0);addItemTooltip=a("Add Item");color=a("primary");loading=a(!1);rowClick=x();addItem=x();action=x();onRowClick(e,n){return(this.rowClickableFn()?.(e)??this.rowClickable())&&this.rowClick.emit({element:e,index:n})}onAddItemClick=()=>this.addItem.emit();onActionClick=(e,n)=>this.action.emit(e.setRowIdx(n));static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-data-table"]],hostVars:4,hostBindings:function(n,o){n&2&&(k(o.color()),S("row-clickable",o.rowClickable()))},inputs:{columns:[1,"columns"],data:"data",rowClickable:[1,"rowClickable"],rowClickableFn:[1,"rowClickableFn"],canAddItem:[1,"canAddItem"],addItemTooltip:[1,"addItemTooltip"],color:[1,"color"],loading:[1,"loading"]},outputs:{rowClick:"rowClick",addItem:"addItem",action:"action"},decls:12,vars:3,consts:[[1,"sb-data-table-container"],["mode","indeterminate",2,"margin-bottom","8px",3,"color"],[1,"sb-data-table"],[1,"sb-data-table-actions"],[3,"sbTooltip","circle"],[3,"column"],[1,"row"],[1,"row",3,"click"],[3,"action","item","column"],[1,"sb-no-data"],[3,"click","sbTooltip","circle"]],template:function(n,o){n&1&&(l(0,"div",0),g(1,De,1,1,"sb-progress-bar",1),l(2,"table",2)(3,"thead")(4,"tr"),I(5,Fe,2,1,"th",null,xe),s()(),l(7,"tbody"),g(8,Be,2,0)(9,Ee,3,1,"tr"),s()(),l(10,"div",3),g(11,je,1,2,"sb-button-icon-add",4),s()()),n&2&&(d(),C(o.loading()?1:-1),d(4),D(o.columns()),d(3),C(o._data().length?8:9),d(3),C(o.canAddItem()?11:-1))},dependencies:[Ce,he,_e,pe,ye],styles:["[_nghost-%COMP%]{display:block;--color-border-rgb: var(--mat-sys-primary-rgb);--ripple-opacity: .35;--color-header-bg: var(--mat-sys-surface-container);--color-header-txt: var(--mat-sys-on-surface);--color-row-hover: var(--mat-sys-surface-container-highest);--color-txt: var(--mat-sys-on-surface);--color-bg: var(--mat-sys-surface);--padding-container: 0rem;--color-border: rgba(var(--color-border-rgb, 0, 0, 0), var(--ripple-opacity));background:var(--color-bg);box-shadow:0 2px 8px #0000000a;border-radius:5px}.sb-data-table-container[_ngcontent-%COMP%]{width:calc(100% - var(--padding-container, 1rem));overflow-x:auto;background:inherit;padding:var(--padding-containers);border-radius:inherit}.sb-data-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;background:transparent}.row-clickable[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{cursor:pointer}.sb-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .sb-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;color:var(--color-txt)}.sb-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--color-header-bg);color:var(--color-header-txt);font-weight:600;border-bottom:2px solid var(--color-border);position:sticky;top:0;z-index:2}.sb-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:var(--color-row-bg);border-bottom:1px solid var(--color-border);transition:background .2s}.sb-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:var(--color-row-hover)}.sb-data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   td[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container-highest)}.sb-no-data[_ngcontent-%COMP%]{text-align:center;color:var(--color-txt);padding:2rem 0;font-style:italic}.sb-data-table-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;align-items:center;margin-top:.5rem;padding:.5rem .5rem 0}@media (max-width: 600px){.sb-data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .sb-data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem;font-size:.95rem}.sb-data-table-container[_ngcontent-%COMP%]{padding:.5rem}}.secondary[_nghost-%COMP%]{--color-border-rgb: var(--mat-sys-secondary-rgb)}.tertiary[_nghost-%COMP%]{--color-border-rgb: var(--mat-sys-tertiary-rgb)}.error[_nghost-%COMP%]{--color-border-rgb: var(--mat-sys-error-rgb)}"],changeDetection:0})}return t})();var qe=t=>({$implicit:t});function Re(t,i){if(t&1){let e=h();l(0,"div",1),f("click",function(){p(e);let o=c();return _(o.onOverlayClick())})("keydown.escape",function(){p(e);let o=c();return _(o.onOverlayClick())}),l(1,"div",2),f("click",function(o){return p(e),_(o.stopPropagation())}),l(2,"sb-button-icon-close",3),f("click",function(){p(e);let o=c();return _(o.close())}),s(),F(3,4),s()()}if(t&2){let e=c();d(3),b("ngTemplateOutlet",e.template())("ngTemplateOutletContext",ne(2,qe,e.templateData()))}}var ve=(()=>{class t{open=P(!1);template=a.required();templateData=a(void 0);closeBackdropClick=a(!0);close=()=>this.open.set(!1);onOverlayClick(){console.log("Overlay clicked"),this.closeBackdropClick()&&this.open.set(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-ui-modal"]],inputs:{open:[1,"open"],template:[1,"template"],templateData:[1,"templateData"],closeBackdropClick:[1,"closeBackdropClick"]},outputs:{open:"openChange"},decls:1,vars:1,consts:[["tabindex","0","role","dialog","aria-modal","true",1,"sb-ui-modal-overlay"],["tabindex","0","role","dialog","aria-modal","true",1,"sb-ui-modal-overlay",3,"click","keydown.escape"],[1,"modal",3,"click"],["aria-label","Close modal",1,"btn-close",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){n&1&&g(0,Re,4,4,"div",0),n&2&&C(o.open()?0:-1)},dependencies:[V,se],styles:[".sb-ui-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:999;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.modal[_ngcontent-%COMP%]{background:var(--mat-sys-surface, #fff);border-radius:12px;box-shadow:0 8px 32px #0000002e;padding:2rem 1.5rem 1.5rem;min-width:320px;max-width:90vw;max-height:90vh;position:relative;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_expand .3s ease-in-out}.btn-close[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;font-size:2rem;color:var(--mat-sys-on-surface, #333);cursor:pointer;z-index:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_expand{0%{transform:scale(.75);opacity:0;overflow:hidden}to{transform:scale(1);overflow:unset;opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}"],changeDetection:0})}return t})();function He(t,i){if(t&1){let e=h();l(0,"sb-ui-modal",4),W("openChange",function(o){p(e);let r=c();return U(r._showUpdateForm,o)||(r._showUpdateForm=o),_(o)}),s()}if(t&2){let e=c();H("open",e._showUpdateForm),b("template",i)("templateData",e._updateItem())}}function Ue(t,i){if(t&1){let e=h();l(0,"sb-ui-modal",5),W("openChange",function(o){p(e);let r=c();return U(r._showAddForm,o)||(r._showAddForm=o),_(o)}),s()}if(t&2){let e=c();H("open",e._showAddForm),b("template",i)}}var We=(()=>{class t{static delete="delete"}return t})(),$="Are you sure you want to delete this item?",Lt=(()=>{class t{_confirmService=L(be);successMsg=a(void 0);errorMsg=a(void 0);loading=a(!1);tableColumns=a([]);data=a([]);deleteModalTitle=a("Delete?");deleteModalMessageFn=a(()=>$);updateFormTemplate=a();addFormTemplate=a();rowClickable=a(!0);rowClickableFn=a(void 0);addItemTooltip=a("Add Item");deleteItem=x();_showAddForm=v(!1);_updateItem=v(void 0);_showUpdateForm=v(!1);_deleteModalMessage=v($);constructor(){ae(()=>{this.successMsg()&&(this._showAddForm.set(!1),this._showUpdateForm.set(!1))})}onAction(e){return z(this,null,function*(){if(e.action!==We.delete)return;let n=this.deleteModalMessageFn()?.(e.item)||$;this._deleteModalMessage.set(n),(yield this._confirmService.open(this.deleteModalTitle(),n))&&this.deleteItem.emit(e.item)})}onAddItem=()=>this._showAddForm.set(!0);onRowClick(e){this._updateItem.set(e.element),this._showUpdateForm.set(!0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=u({type:t,selectors:[["sb-crud-table"]],inputs:{successMsg:[1,"successMsg"],errorMsg:[1,"errorMsg"],loading:[1,"loading"],tableColumns:[1,"tableColumns"],data:[1,"data"],deleteModalTitle:[1,"deleteModalTitle"],deleteModalMessageFn:[1,"deleteModalMessageFn"],updateFormTemplate:[1,"updateFormTemplate"],addFormTemplate:[1,"addFormTemplate"],rowClickable:[1,"rowClickable"],rowClickableFn:[1,"rowClickableFn"],addItemTooltip:[1,"addItemTooltip"]},outputs:{deleteItem:"deleteItem"},decls:4,vars:13,consts:[[3,"addItem","action","rowClick","data","columns","rowClickable","rowClickableFn","canAddItem","loading","addItemTooltip"],[3,"open","template","templateData"],[3,"open","template"],[3,"errorMsg","toastMsg","isLoading","loadingMessage"],[3,"openChange","open","template","templateData"],[3,"openChange","open","template"]],template:function(n,o){if(n&1&&(l(0,"sb-data-table",0),f("addItem",function(){return o.onAddItem()})("action",function(m){return o.onAction(m)})("rowClick",function(m){return o.onRowClick(m)}),s(),g(1,He,1,3,"sb-ui-modal",1)(2,Ue,1,2,"sb-ui-modal",2),w(3,"sb-notifications-modal-mat",3)),n&2){let r,m;b("data",o.data())("columns",o.tableColumns())("rowClickable",o.rowClickable()&&!!o.updateFormTemplate())("rowClickableFn",o.rowClickableFn())("canAddItem",!!o.addFormTemplate())("loading",o.loading())("addItemTooltip",o.addItemTooltip()),d(),C((r=o.updateFormTemplate())?1:-1,r),d(),C((m=o.addFormTemplate())?2:-1,m),d(),b("errorMsg",o.errorMsg())("toastMsg",o.successMsg())("isLoading",o.loading())("loadingMessage","Loading ...")}},dependencies:[we,ce,ve],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}sb-data-table[_ngcontent-%COMP%]{width:96%;max-width:1200px;margin:0 auto}"],changeDetection:0})}return t})();var B=class{_equals=(i,e)=>i?.id===e?.id;constructor(i){i&&(this._equals=i)}append=(i,e)=>[...i,e];delete=(i,e)=>i.filter(n=>!this._equals(n,e));insert=(i,e)=>i.map(n=>this._equals(n,e)?j(j({},n),e):n)};var Me=class{_data=v([]);_crudOps;data=T(()=>this._data());constructor(i=[],e){this.refresh(i),this._crudOps=new B(e)}refresh=i=>this._data.set(i);append=i=>this._data.update(e=>this._crudOps.append(e,i));delete=i=>this._data.update(e=>this._crudOps.delete(e,i));insert=i=>this._data.update(e=>this._crudOps.insert(e,i))};export{Me as a,Lt as b};
