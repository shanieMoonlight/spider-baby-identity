import{a as oe}from"./chunk-7E3DRIOT.js";import{b as y}from"./chunk-Y3V5RPEH.js";import{a as Z}from"./chunk-RPLYZMPJ.js";import{a as te}from"./chunk-3CINSE24.js";import{a as J}from"./chunk-6BWBEIMS.js";import{a as V,b as ee}from"./chunk-HYDR5JNX.js";import"./chunk-LJ2X4TIF.js";import{a as S}from"./chunk-Y7YTAPDB.js";import{a as D}from"./chunk-A4LVP73L.js";import{a as K}from"./chunk-E6PBY26I.js";import{a as Q,b as X}from"./chunk-J7V4XGIJ.js";import{a as H}from"./chunk-UQNNMBE6.js";import"./chunk-GRQJUET4.js";import"./chunk-VLIVY6BI.js";import"./chunk-J2DBJL2B.js";import"./chunk-WKO4SONN.js";import{a as L,b as w,ca as M,d as j,da as q,e as k,f as B,g as R,h as U,i as $,j as z,k as G,m as W,n as Y}from"./chunk-VJXHLJA5.js";import"./chunk-YCVKD4PR.js";import"./chunk-CU2LV2W6.js";import"./chunk-ZUYYKIIZ.js";import"./chunk-4XZ6Q3KQ.js";import"./chunk-XWDBGFUP.js";import"./chunk-VVB4K6R7.js";import"./chunk-Y5WPSY3K.js";import{Aa as f,Eb as i,Jb as u,Ob as a,Pb as m,Qb as c,Sb as v,Ub as g,Vb as _,Y as x,ca as d,db as n,dc as O,ec as b,la as C,ma as h,mc as I,nc as A,sb as P,tc as F,xb as p,za as E}from"./chunk-CCUFKVTZ.js";import"./chunk-6MDQTQU3.js";var me=()=>[];function se(t,s){t&1&&(a(0,"label",4),b(1,"Email *"),m()),t&2&&i("for","email")}function le(t,s){t&1&&(a(0,"label",4),b(1,"Username"),m()),t&2&&i("for","username")}function de(t,s){t&1&&(a(0,"label",4),b(1,"First Name"),m()),t&2&&i("for","firstName")}function pe(t,s){t&1&&(a(0,"label",4),b(1,"Last Name"),m()),t&2&&i("for","lastName")}function ce(t,s){t&1&&(a(0,"label",4),b(1,"Phone Number"),m()),t&2&&i("for","phoneNumber")}function ue(t,s){t&1&&(a(0,"label",4),b(1,"Team Position"),m()),t&2&&i("for","teamPosition")}function _e(t,s){if(t&1&&c(0,"sb-select",11),t&2){let e,r=_();i("id","teamPosition")("options",(e=r.teamPositionOptions())!==null&&e!==void 0?e:A(3,me))("color",r.color())}}function be(t,s){if(t&1&&c(0,"input",12),t&2){let e=_();i("min",e.minPosition())("max",e.maxPosition())("color",e.color())}}var ie=(()=>{class t{_fb=d(W);_removeNulls=d(Z);addMember=E();showLabels=f(!0);teamPositionOptions=f();color=f("primary");minPosition=f(1);maxPosition=f(3);_form=this._fb.nonNullable.group({firstName:this._fb.control(""),lastName:this._fb.control(""),username:this._fb.control(""),email:this._fb.nonNullable.control("",[w.required,w.email]),phoneNumber:this._fb.control(""),teamPosition:this._fb.control(null)});submit(){if(!this._form.valid)return;let e=this._removeNulls.remove(this._form.getRawValue());this.addMember.emit(e)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=P({type:t,selectors:[["sb-add-super-member-form"]],inputs:{showLabels:[1,"showLabels"],teamPositionOptions:[1,"teamPositionOptions"],color:[1,"color"],minPosition:[1,"minPosition"],maxPosition:[1,"maxPosition"]},outputs:{addMember:"addMember"},decls:34,vars:21,consts:[[1,"sb-add-mntc-member-form",3,"ngSubmit","formGroup","sbFormControlFirstError"],[1,"form-section"],[1,"form-row"],[1,"form-group"],[3,"for"],["id","email","sbInputStyle","","formControlName","email","placeholder","Email","type","email",3,"color"],[3,"control"],["id","username","sbInputStyle","","formControlName","username","placeholder","Username",3,"color"],["id","firstName","sbInputStyle","","formControlName","firstName","placeholder","First Name",3,"color"],["id","lastName","sbInputStyle","","formControlName","lastName","placeholder","Last Name",3,"color"],["id","phoneNumber","sbInputStyle","","formControlName","phoneNumber","placeholder","Phone Number",3,"color"],["placeholder","Select new position","formControlName","teamPosition",3,"id","options","color"],["id","teamPosition","sbInputStyle","","formControlName","teamPosition","type","number","placeholder","new Position",3,"min","max","color"],[1,"actions"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(a(0,"form",0),g("ngSubmit",function(){return o.submit()}),a(1,"div",1)(2,"div",2)(3,"div",3),p(4,se,2,1,"label",4),c(5,"input",5)(6,"sb-first-error",6),m(),a(7,"div",3),p(8,le,2,1,"label",4),c(9,"input",7)(10,"sb-first-error",6),m(),a(11,"div",3),p(12,de,2,1,"label",4),c(13,"input",8)(14,"sb-first-error",6),m(),a(15,"div",3),p(16,pe,2,1,"label",4),c(17,"input",9)(18,"sb-first-error",6),m()()(),a(19,"div",1)(20,"div",2)(21,"div",3),p(22,ce,2,1,"label",4),c(23,"input",10)(24,"sb-first-error",6),m(),a(25,"div",3),p(26,ue,2,1,"label",4)(27,_e,1,4,"sb-select",11)(28,be,1,3,"input",12),c(29,"sb-first-error",6),m()()(),a(30,"div",1)(31,"div",13)(32,"sb-button",14),b(33,"Add Member"),m()()()()),r&2){let l;i("formGroup",o._form)("sbFormControlFirstError",o._form),n(4),u(o.showLabels()?4:-1),n(),i("color",o.color()),n(),i("control",o._form.controls.email),n(2),u(o.showLabels()?8:-1),n(),i("color",o.color()),n(),i("control",o._form.controls.username),n(2),u(o.showLabels()?12:-1),n(),i("color",o.color()),n(),i("control",o._form.controls.firstName),n(2),u(o.showLabels()?16:-1),n(),i("color",o.color()),n(),i("control",o._form.controls.lastName),n(4),u(o.showLabels()?22:-1),n(),i("color",o.color()),n(),i("control",o._form.controls.phoneNumber),n(2),u(o.showLabels()?26:-1),n(),u((l=o.teamPositionOptions())!=null&&l.length?27:28),n(2),i("control",o._form.controls.teamPosition),n(3),i("disabled",!o._form.valid)}},dependencies:[Y,B,L,R,j,k,G,z,U,$,X,Q,H,K,te],styles:["[_nghost-%COMP%]{display:block;max-width:800px;width:100%;border-radius:1rem}.description[_ngcontent-%COMP%]{text-align:center;color:var(--mat-sys-on-surface-variant);font-size:.95rem;margin-bottom:1rem;line-height:1.4}.form-section[_ngcontent-%COMP%]{border-radius:.75rem;padding:1.5rem;margin:.5rem}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.25rem;font-size:1.1rem;font-weight:600;color:var(--mat-sys-on-surface-variant)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group.checkbox-group[_ngcontent-%COMP%]{align-self:end;padding-bottom:.25rem}label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}sb-button[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.error[_ngcontent-%COMP%]{color:var(--mat-sys-error);font-size:.95rem;margin-top:-.25rem}.collapsible-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;padding:.5rem 0;transition:background-color .2s ease;border-radius:.25rem}.collapsible-header[_ngcontent-%COMP%]:hover{background-color:var(--mat-sys-surface-variant);padding:.5rem 1rem;margin:0 -1rem}.collapsible-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;pointer-events:none}.toggle-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:transform .3s ease;color:var(--mat-sys-on-surface-variant)}.toggle-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.toggle-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.collapsible-content[_ngcontent-%COMP%]{margin-top:1rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1}.form-section[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]{max-width:100%}}"],changeDetection:0})}return t})();var fe=(()=>{class t{static delete="delete"}return t})(),ne=[S.create("userName"),S.create("email"),S.create("firstName"),S.create("lastName"),S.create(fe.delete).setActionComponent(J,{color:"error"})];var T=(()=>{class t{_ioService=d(D);_teamPositionProvider=d(y);_crudSignalOps=new V;_superTeamState=M.Create(()=>this._ioService.getSuperTeamMembers()).setOnSuccessFn((e,r)=>this._crudSignalOps.refresh(r)).trigger();_addState=M.CreateWithInput(e=>this._ioService.addSuperTeamMember(e)).setSuccessMsgFn(e=>`Member, ${e.email} added!`).setOnSuccessFn((e,r)=>this._crudSignalOps.append(r));_updatePositionState=M.CreateWithInput(e=>this._ioService.updatePosition(e)).setSuccessMsgFn((e,r)=>`Member, ${r?.email} updated successfully!`).setOnSuccessFn((e,r)=>this._crudSignalOps.insert(r));_deleteMemberState=M.CreateWithInput(e=>this._ioService.deleteSuperMemberByUserId(e.id)).setSuccessMsgFn(e=>`Member, ${e.email} deleted successfully \u{1F5D1}\uFE0F`).setOnSuccessFn(e=>this._crudSignalOps.delete(e));_states=q.Combine(this._addState,this._deleteMemberState,this._updatePositionState,this._superTeamState);successMsg=this._states.successMsg;errorMsg=this._states.errorMsg;loading=this._states.loading;data=this._crudSignalOps.data;updatePosition=e=>this._updatePositionState.trigger(e);addMember=e=>this._addState.trigger(e);deleteMember=e=>this._deleteMemberState.trigger(e);static \u0275fac=function(r){return new(r||t)};static \u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ge(t,s){if(t&1){let e=v();a(0,"sb-update-team-position-form",3),g("updatePosition",function(o){C(e);let l=_();return h(l.updatePosition(o))}),m()}if(t&2){let e=s.$implicit,r=_();i("member",e)("teamPositionOptions",r._teamPositionOptions)}}function Se(t,s){if(t&1){let e=v();a(0,"sb-add-super-member-form",4),g("addMember",function(o){C(e);let l=_();return h(l.addMember(o))}),m()}if(t&2){let e=_();i("teamPositionOptions",e._teamPositionOptions)}}var Je=(()=>{class t{_state=d(T);_teamPositionProvider=d(y);_successMsg=this._state.successMsg;_errorMsg=this._state.errorMsg;_loading=this._state.loading;_data=this._state.data;_tableColumns=ne;_teamPositionOptions=this._teamPositionProvider.getOptions();_deleteMessageFn=e=>`Are you sure you want to delete ${e.userName||e.email}? 
This action cannot be undone.`;addMember=e=>this._state.addMember(e);updatePosition=e=>this._state.updatePosition(e);deleteMember=e=>this._state.deleteMember(e);static \u0275fac=function(r){return new(r||t)};static \u0275cmp=P({type:t,selectors:[["sb-super-team"]],features:[I([T])],decls:5,vars:9,consts:[["updateMemberForm",""],["addSuperMemberForm",""],[1,"table",3,"deleteItem","addFormTemplate","updateFormTemplate","tableColumns","data","addItemTooltip","loading","errorMsg","successMsg","deleteModalMessageFn"],[3,"updatePosition","member","teamPositionOptions"],[3,"addMember","teamPositionOptions"]],template:function(r,o){if(r&1){let l=v();a(0,"sb-crud-table",2),g("deleteItem",function(ae){return C(l),h(o.deleteMember(ae))}),m(),p(1,ge,1,2,"ng-template",null,0,F)(3,Se,1,1,"ng-template",null,1,F)}if(r&2){let l=O(2),N=O(4);i("addFormTemplate",N)("updateFormTemplate",l)("tableColumns",o._tableColumns)("data",o._data())("addItemTooltip","Add Super Member")("loading",o._loading())("errorMsg",o._errorMsg())("successMsg",o._successMsg())("deleteModalMessageFn",o._deleteMessageFn)}},dependencies:[ie,oe,ee],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;width:calc(100% - 2rem);min-height:calc(100% - 2rem);align-items:center;justify-content:center;padding:1rem}.table[_ngcontent-%COMP%]{width:98%;max-width:1200px;margin:0 auto}"],changeDetection:0})}return t})();export{Je as SuperTeamComponent};
