import{a as h}from"./chunk-2TXRH4OM.js";import{a as u}from"./chunk-CWY6TGXW.js";import{C as r,V as e,Y as a,ca as s,l as c,m as g}from"./chunk-CCUFKVTZ.js";import{a as n}from"./chunk-6MDQTQU3.js";var k=(()=>{class t{_auth=s(h);_accIoService=s(u);loginJwt(i){return this._accIoService.login(n({},i)).pipe(e(o=>this.onLoginSuccessJwt(o)),r(o=>this.onLoginError(o)))}loginCookie(i){return this._accIoService.cookieSignIn(n({},i)).pipe(e(o=>this.onLoginSuccessCookie(o)),r(o=>this.onLoginError(o)))}loginGoogleJwt(i){return this._accIoService.googleLogin(n({},i)).pipe(e(o=>this.onLoginSuccessJwt(o)),r(o=>this.onLoginError(o)))}loginGoogleCookie(i){return this._accIoService.googleCookieSignin(n({},i)).pipe(e(o=>this.onLoginSuccessCookie(o)),r(o=>this.onLoginError(o)))}verify2Factor(i){return this._accIoService.twoFactorVerification(i).pipe(e(o=>this.onLoginSuccessJwt(o)),r(o=>this.onLoginError(o)))}verify2FactorCookie(i){return this._accIoService.twoFactorVerificationCookie(i).pipe(e(o=>this.onLoginSuccessCookie(o)),r(o=>this.onLoginError(o)))}onLoginError(i){return this._auth.logOut(),g(()=>i)}onLoginSuccessJwt(i){return i.accessToken&&this._auth.logIn(i.accessToken),c(i)}onLoginSuccessCookie(i){return c(i)}logout=()=>this._auth.logOut();static \u0275fac=function(o){return new(o||t)};static \u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();export{k as a};
