import{b as I,c as N}from"./chunk-VJXHLJA5.js";import{j as q,m as H,p as z}from"./chunk-Y5WPSY3K.js";import{Aa as d,Ba as M,Da as v,Eb as h,Gb as _,Ic as $,Jb as m,Mb as V,Nb as F,Ob as a,Pb as c,Qb as E,Rb as B,Sb as O,Ub as b,Vb as l,ca as x,cb as k,db as s,ec as u,gc as f,ib as S,la as g,ma as C,na as w,oc as y,sb as T,ub as D,xb as p,za as P}from"./chunk-CCUFKVTZ.js";var G=(()=>{class t{_elementRef=x(M);sbOutsideClick=P();onGlobalClick(e){let n=[];if(e.composedPath)n=e.composedPath();else{let o=e.target;for(;o;)n.push(o),o=o.parentElement}n.includes(this._elementRef.nativeElement)||this.sbOutsideClick.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=D({type:t,selectors:[["","sbOutsideClick",""]],hostBindings:function(n,o){n&1&&b("click",function(R){return o.onGlobalClick(R)},!1,k)},outputs:{sbOutsideClick:"sbOutsideClick"}})}return t})();var A=t=>[t],L=t=>({$implicit:t}),Y=(t,i)=>i.value;function Z(t,i){t&1&&(a(0,"span",10),u(1,"*"),c())}function J(t,i){if(t&1&&(a(0,"li",8),u(1),p(2,Z,2,0,"span",10),c()),t&2){let e=l(2);s(),f(" ",e.placeholder()||"Select an option"," "),s(),m(e._required?2:-1)}}function K(t,i){t&1&&B(0)}function Q(t,i){if(t&1&&p(0,K,1,0,"ng-container",12),t&2){let e=l().$implicit;h("ngTemplateOutlet",i)("ngTemplateOutletContext",y(2,L,e))}}function U(t,i){if(t&1&&u(0),t&2){let e=l().$implicit;f(" ",e.label," ")}}function W(t,i){if(t&1){let e=O();a(0,"li",11),b("click",function(){let o=g(e).$implicit,r=l(2);return C(!o.disabled&&r.selectOption(o))})("keydown.enter",function(){let o=g(e).$implicit,r=l(2);return C(!o.disabled&&r.selectOption(o))}),p(1,Q,1,4,"ng-container")(2,U,1,1),c()}if(t&2){let e,n=i.$implicit,o=l(2);_("selected",o._value()===n.value)("disabled",n.disabled),s(),m((e=o.optionTemplate())?1:2,e)}}function X(t,i){if(t&1){let e=O();a(0,"ul",7),b("sbOutsideClick",function(){g(e);let o=l();return C(o.onOutsideClick())}),p(1,J,3,2,"li",8),V(2,W,3,5,"li",9,Y),c()}if(t&2){let e=l();s(),m(e.placeholder()||e._required?1:-1),s(),F(e.options())}}var ue=(()=>{class t{parent;color=d("primary");options=d([]);readonly=d(!1);placeholder=d("");optionTemplate=d(void 0);_isOpen=!1;_selectedOption=v(void 0);_value=v("");_disabled=v(!1);get _required(){return!!this.parent?.control?.hasValidator(I.required)}constructor(e){this.parent=e,this.parent&&(this.parent.valueAccessor=this),$(()=>{(this._disabled()||this.readonly())&&(this._isOpen=!1)})}toggleDropdown(){if(console.log("Toggle Dropdown",this._isOpen,this._disabled(),this.readonly()),!(this._disabled()||this.readonly()))return console.log("Toggle Dropdown",this._isOpen,this._disabled(),this.readonly()),this._isOpen=!this._isOpen}selectOption(e){if(this._isOpen=!1,e?.disabled)return;this._selectedOption.set(e);let n=e?.value?e.value:null;this._value.set(n),this.onChange(n),this.onTouched()}onOutsideClick=()=>(console.log("Outside Click",this._isOpen,this._disabled(),this.readonly()),this._isOpen=!1);onChange=e=>{};onTouched=()=>{};writeValue(e){let o=this.options().find(r=>r.value===e)??void 0;this.selectOption(o)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled.set(e)}static \u0275fac=function(n){return new(n||t)(S(N,10))};static \u0275cmp=T({type:t,selectors:[["sb-select"]],hostVars:4,hostBindings:function(n,o){n&2&&_("disabled",o._disabled())("readonly",o.readonly())},inputs:{color:[1,"color"],options:[1,"options"],readonly:[1,"readonly"],placeholder:[1,"placeholder"],optionTemplate:[1,"optionTemplate"]},decls:8,vars:9,consts:[[1,"sb-select-container",3,"ngClass"],[1,"sb-select-dropdown"],["tabindex","0",1,"sb-select-selected",3,"click","keydown.enter"],[1,"sb-select-arrow"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","currentColor"],["d","M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"],[1,"sb-select-list"],[1,"sb-select-list",3,"sbOutsideClick"],[1,"sb-select-option","placeholder"],["tabindex","0",1,"sb-select-option",3,"selected","disabled"],[1,"sb-select-required"],["tabindex","0",1,"sb-select-option",3,"click","keydown.enter"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){if(n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),b("click",function(){return o.toggleDropdown()})("keydown.enter",function(){return o.toggleDropdown()}),u(3),a(4,"span",3),w(),a(5,"svg",4),E(6,"path",5),c()()(),p(7,X,4,1,"ul",6),c()()),n&2){let r;h("ngClass",y(7,A,o.color())),s(),_("disabled",o._disabled()),s(),_("open",o._isOpen),s(),f(" ",((r=o._selectedOption())==null?null:r.label)||o.placeholder()||"Select an option"," "),s(4),m(o._isOpen?7:-1)}},dependencies:[q,z,H,G],styles:["[_nghost-%COMP%]{--color-border: var(--mat-sys-primary-40);--color-bg: transparent;--color-bg: var(--mat-sys-surface-container);--color-bg-focus: var(--mat-sys-surface-container);--color-bg-selected-rgb: var(--mat-sys-primary-rgb);--color-disabled: var(--mat-sys-primary-60);--color-txt: var(--mat-sys-on-surface);--color-arrow: var(--mat-sys-on-surface-variant)}[_nghost-%COMP%]   *[_ngcontent-%COMP%], [_nghost-%COMP%]   *[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   *[_ngcontent-%COMP%]:after{box-sizing:border-box}.sb-select-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%}.sb-select-container.secondary[_ngcontent-%COMP%]{--color-border: var(--mat-sys-secondary-40);--color-disabled: var(--mat-sys-secondary-80);--color-bg-selected-rgb: var(--mat-sys-secondary-rgb)}.sb-select-container.tertiary[_ngcontent-%COMP%]{--color-border: var(--mat-sys-tertiary-40);--color-disabled: var(--mat-sys-tertiary-80);--color-bg-selected-rgb: var(--mat-sys-tertiary-rgb)}.sb-select-container.error[_ngcontent-%COMP%]{--color-border: var(--mat-sys-error-40);--color-disabled: var(--mat-sys-error-80);--color-bg-selected-rgb: var(--mat-sys-error-rgb)}.sb-select-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 3rem .75rem 1rem;border:1px solid var(--mat-sys-outline);border-radius:.5rem;border-radius:var(--mat-sys-corner-extra-small);font-size:1rem;background:var(--color-bg);color:var(--color-txt);transition:border-color .2s,background-color .2s;appearance:none;cursor:pointer}.sb-select-input[_ngcontent-%COMP%]:focus{border-color:var(--color-border);background:var(--color-bg-focus);outline:none}.sb-select-input[_ngcontent-%COMP%]:disabled{background:var(--mat-sys-surface-variant);border-color:var(--color-disabled);color:var(--color-disabled);cursor:not-allowed}.sb-select-input[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:var(--mat-sys-surface-container);color:var(--mat-sys-on-surface-container);padding:.5rem;height:50px}.sb-select-input[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:disabled{color:var(--mat-sys-outline)}.sb-select-arrow[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);width:1.5rem;height:1.5rem;color:var(--color-arrow);pointer-events:none;transition:color .2s}.sb-select-container[_ngcontent-%COMP%]:hover   .sb-select-arrow[_ngcontent-%COMP%]{color:var(--color-border)}.sb-select-arrow[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.sb-select-dropdown[_ngcontent-%COMP%]{position:relative;width:100%}.sb-select-selected[_ngcontent-%COMP%]{width:100%;padding:.75rem 3rem .75rem 1rem;border:1px solid var(--mat-sys-outline);border-radius:.5rem;border-radius:var(--mat-sys-corner-extra-small);font-size:1rem;background:var(--color-bg);color:var(--color-txt);cursor:pointer;display:flex;align-items:center;min-height:2.5rem;position:relative;transition:border-color .2s,background-color .2s}.sb-select-selected.open[_ngcontent-%COMP%], .sb-select-selected[_ngcontent-%COMP%]:focus{border-color:var(--color-border);background:var(--color-bg-focus);outline:none}.sb-select-list[_ngcontent-%COMP%]{position:absolute;left:0;top:calc(100% + .25rem);width:100%;background:var(--mat-sys-surface-container);border:1px solid var(--color-border);border-radius:.5rem;border-radius:var(--mat-sys-corner-extra-small);box-shadow:0 2px 8px #00000014;z-index:10;margin:0;padding:.25rem 0;list-style:none;max-height:16rem;overflow-y:auto}.sb-select-option[_ngcontent-%COMP%]{padding:.75rem 1rem;cursor:pointer;color:var(--color-txt);transition:background .15s,color .15s;outline:none;border:none;-webkit-user-select:none;user-select:none}.sb-select-option.selected[_ngcontent-%COMP%]{background:var(--color-bg-selected);background-color:rgba(var(--color-bg-selected-rgb),.25);font-weight:600}.sb-select-option[_ngcontent-%COMP%]:hover:not(.disabled), .sb-select-option[_ngcontent-%COMP%]:focus-visible:not(.disabled){background:var(--color-border);color:#fff}.sb-select-option.disabled[_ngcontent-%COMP%]{color:var(--color-disabled);background:var(--mat-sys-surface-variant);cursor:not-allowed;pointer-events:none}.sb-select-option.placeholder[_ngcontent-%COMP%]{color:var(--color-disabled);font-style:italic}.sb-select-required[_ngcontent-%COMP%]{color:var(--color-border);font-weight:700}.disabled[_nghost-%COMP%]   .sb-select-container[_ngcontent-%COMP%]   .sb-select-selected[_ngcontent-%COMP%]{background-color:var(--mat-sys-neutral-container);color:var(--mat-sys-on-neutral-container);cursor:not-allowed}.disabled[_nghost-%COMP%]   .sb-select-container[_ngcontent-%COMP%]   .sb-select-arrow[_ngcontent-%COMP%]{color:var(--color-disabled)}.readonly[_nghost-%COMP%]   .sb-select-container[_ngcontent-%COMP%]   .sb-select-selected[_ngcontent-%COMP%]{cursor:not-allowed}.readonly[_nghost-%COMP%]   .sb-select-container[_ngcontent-%COMP%]   .sb-select-arrow[_ngcontent-%COMP%]{color:var(--color-disabled)}"],changeDetection:0})}return t})();export{ue as a};
